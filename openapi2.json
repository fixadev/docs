"/alerts": {
  "get": {
    "tags": ["alerts"],
    "operationId": "getAlerts",
    "description": "Get all alerts for a user",
    "responses": {
      "200": {
        "description": "Alerts retrieved successfully",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": ["success", "alerts"],
              "properties": {
                "success": {
                  "type": "boolean"
                },
                "alerts": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AlertWithDetails"
                  }
                }
              }
            }
          }
        }
      },
      "500": {
        "$ref": "#/components/responses/Error500"
      }
    }
  }
},


"/alerts/{savedSearchId}": {
  "post": {
    "tags": ["alerts"],
    "operationId": "createAlert",
    "description": "Create a new alert",
    "parameters": [
      {
        "name": "savedSearchId",
        "in": "path",
        "required": false,
        "schema": {
          "type": "string"
        },
        "description": "ID of the saved search to associate with the alert"
      }
    ],
    "requestBody": {
      "required": true,
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/CreateAlert"
          }
        }
      }
    },
    "responses": {
      "200": {
        "description": "Alert created successfully",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": ["success", "alert"],
              "properties": {
                "success": {
                  "type": "boolean"
                },
                "alert": {
                  "$ref": "#/components/schemas/AlertWithDetails"
                }
              }
            }
          }
        }
      },
      "500": {
        "description": "Server error",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            }
          }
        }
      }
    }
  }
},
"/alerts/{id}": {
  "put": {
    "tags": ["alerts"],
    "operationId": "updateAlert",
    "description": "Update an existing alert",
    "parameters": [
      {
        "name": "id",
        "in": "path",
        "required": true,
        "schema": {
          "type": "string"
        }
      }
    ],
    "requestBody": {
      "required": true,
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/CreateAlert"
          }
        }
      }
    },
    "responses": {
      "200": {
        "description": "Alert updated successfully",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": ["success", "alert"],
              "properties": {
                "success": {
                  "type": "boolean"
                },
                "alert": {
                  "$ref": "#/components/schemas/AlertWithDetails"
                }
              }
            }
          }
        }
      },
      "500": {
        "description": "Server error",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            }
          }
        }
      }
    }
  },
  "delete": {
    "tags": ["alerts"],
    "operationId": "deleteAlert",
    "description": "Delete an alert",
    "parameters": [
      {
        "name": "id",
        "in": "path",
        "required": true,
        "schema": {
          "type": "string"
        }
      }
    ],
    "responses": {
      "200": {
        "description": "Alert deleted successfully",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "required": ["success"],
              "properties": {
                "success": {
                  "type": "boolean"
                }
              }
            }
          }
        }
      },
      "500": {
        "description": "Server error",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            }
          }
        }
      }
    }
  }
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      "CreateAlert": {
        "type": "object",
        "required": ["type", "details"],
        "properties": {
          "type": {
            "type": "string",
            "enum": ["latency", "evalSet"],
            "description": "Type of alert"
          },
          "details": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/CreateLatencyAlertDetails"
              },
              {
                "$ref": "#/components/schemas/CreateEvalSetAlertDetails"
              }
            ]
          }
        },
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "latency": "#/components/schemas/CreateLatencyAlertDetails",
            "evalSet": "#/components/schemas/CreateEvalSetAlertDetails"
          }
        }
      },
      "AlertWithDetails": {
        "type": "object",
        "required": ["id", "type", "details", "ownerId", "savedSearchId", "slackNames"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the alert"
          },
          "type": {
            "type": "string",
            "enum": ["latency", "evalSet"]
          },
          "details": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/LatencyAlertDetails"
              },
              {
                "$ref": "#/components/schemas/EvalSetAlertDetails"
              }
            ]
          },
          "savedSearchId": {
            "type": "string",
            "description": "ID of the associated saved search"
          },
          "slackNames": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Slack usernames to notify",
            "default": []
          },
          "ownerId": {
            "type": "string",
            "description": "ID of the alert owner"
          }
        },
        "discriminator": {
          "propertyName": "type",
          "mapping": {
            "latency": "#/components/schemas/LatencyAlertDetails",
            "evalSet": "#/components/schemas/EvalSetAlertDetails"
          }
        }
      },
      "LatencyAlertDetails": {
        "type": "object",
        "required": ["lookbackPeriod", "cooldownPeriod", "lastAlerted", "percentile", "threshold"],
        "properties": {
          "lookbackPeriod": {
            "type": "object",
            "required": ["label", "value"],
            "properties": {
              "label": {
                "type": "string",
                "description": "Human readable period label"
              },
              "value": {
                "type": "number",
                "description": "Period value in milliseconds"
              }
            }
          },
          "cooldownPeriod": {
            "type": "object",
            "required": ["label", "value"],
            "properties": {
              "label": {
                "type": "string",
                "description": "Human readable period label"
              },
              "value": {
                "type": "number",
                "description": "Period value in milliseconds"
              }
            }
          },
          "lastAlerted": {
            "type": "string",
            "format": "date-time",
            "description": "Last time this alert was triggered"
          },
          "percentile": {
            "type": "string",
            "enum": ["p50", "p90", "p95"],
            "description": "Percentile threshold for latency"
          },
          "threshold": {
            "type": "number",
            "description": "Latency threshold in milliseconds"
          },
          "slackNames": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Slack usernames to notify"
          }
        }
      },
      "EvalSetAlertDetails": {
        "type": "object",
        "required": ["evaluationGroupId", "trigger"],
        "properties": {
          "evaluationGroupId": {
            "type": "string",
            "description": "ID of the evaluation group"
          },
          "trigger": {
            "type": ["boolean", "null"],
            "description": "Trigger condition for the eval set"
          },
          "slackNames": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Slack usernames to notify"
          }
        }
      },
      "CreateLatencyAlertDetails": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/LatencyAlertDetails"
          }
        ],
        "properties": {
          "slackNames": false
        }
      },
      "CreateEvalSetAlertDetails": {
        "type": "object",
        "allOf": [
          {
            "$ref": "#/components/schemas/EvalSetAlertDetails"
          }
        ],
        "properties": {
          "slackNames": false
        }
      }